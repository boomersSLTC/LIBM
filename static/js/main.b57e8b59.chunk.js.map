{"version":3,"sources":["utils/HttpUtils.ts","context/auth-context.ts","components/AuthModal.tsx","pages/Auth.tsx","components/SideBar.tsx","components/NavBar.tsx","components/Footer.tsx","components/SearchBar.tsx","components/art-components/CategorySprite.tsx","components/art-components/StudyDesk.tsx","components/page-components/BrowseGreetContent.tsx","components/BookDetailsModal.tsx","components/page-components/BrowseListContent.tsx","components/page-components/BrowseContent.tsx","utils/DateUtils.ts","components/page-components/HistoryContent.tsx","components/page-components/DashboardContent.tsx","components/page-components/LibrarianContent.tsx","pages/Template.tsx","App.tsx","index.tsx"],"names":["fetchGraphQLResponse","query","variables","errorMsg","a","fetch","method","body","JSON","stringify","headers","response","status","Error","json","responseJSON","data","errors","console","error","authContextDefaults","userID","type","token","tokenExpiration","login","logout","React","createContext","AuthModal","authContext","useContext","AuthContext","useState","authFailMessage","setAuthFailMessage","userEl","createRef","passEl","submitHandler","event","preventDefault","user","current","value","pass","trim","length","password","message","userField","document","getElementById","focus","authData","id","onSubmit","placeholder","ref","required","to","AuthPage","className","SideBar","props","isLibrarian","Fragment","activeLinkName","icon","faPlane","faPlaneDeparture","faPlaneArrival","faBookReader","faCashRegister","faColumns","NavBar","name","setName","useEffect","firstName","onClick","faSignOutAlt","Footer","SearchBar","hasText","setHasText","searchEl","e","searchHandler","faSearch","onChange","activeSearch","autoComplete","defaultValue","initialValue","minLength","faTimes","CategorySprite","width","height","viewBox","fill","xmlns","x","y","rx","d","cx","cy","r","stroke","strokeWidth","strokeLinecap","strokeLinejoin","StudyDesk","x1","y1","x2","y2","stopColor","stopOpacity","offset","fillRule","opacity","fontFamily","fontSize","transform","BrowseGreetContent","setSearchQuery","category","author","categories","map","index","key","BookDetailsModal","book","viewingBook","setViewingBook","bookID","style","marginTop","window","scrollY","overflow","setBook","title","authors","abstract","BrowseListContent","browserHistory","useHistory","userBooks","notifications","borrowedCurr","borrowedPrev","awaiting","searchQuery","searchItemsList","setSearchItemsList","searchItemListFetched","setSearchItemListFetched","log","findState","quantity","state","indexOf","borrowLimit","bookSearch","actionState","borrowHandler","alert","push","subscribeHandler","viewingBookDetails","setViewingBookDetails","borrowingID","setBorrowingID","subscribingID","setSubscribingID","faArrowLeft","resetGlobalSearchQuery","marginLeft","checked","color","options","label","option","searchItem","background","faClock","faArrowRight","BrowseContent","setCategories","setNotifications","setBorrowedCurr","setBorrowedPrev","setAwaiting","responseData","notification","responseAwaiting","responseAwaitingData","transaction","dateString","isodate","date","Date","setTime","getTime","toUTCString","slice","inMillis","dueDateMillis","borrowDate","allowedDays","remainingDays","Math","round","now","outstanding","returnDate","abs","HistoryContent","setAllowedDays","userHistory","setUserHistory","historyFetched","setHistoryFetched","transactions","remaining","sort","b","valueOf","viewingBookID","setViewingBookID","transID","subscribers","borrowDateISO","returnDateISO","DashboardContent","userDetails","setUserDetails","middleName","lastName","email","awaitingList","setAwaitingList","awaitingFetched","setAwaitingFetched","waitingClear","setWaitingClear","userPending","setUserPending","pendingFetched","setPendingFetched","pending","userOutstanding","setUserOutstanding","outstandingFetched","setOutstandingFetched","returning","setReturning","unsubscribeHandler","err","clearAwaitingHandler","returnHandler","thisElem","display","createdAt","fontWeight","toUpperCase","remainingDaysString","LibrarianContent","waiting","setWaiting","pageName","confirmAwaitingHandler","colSpan","action","TemplatePage","useIdleTimer","timeout","onIdle","debounce","App","userAuthState","setUserAuthState","Provider","exact","path","component","from","render","ReactDOM","StrictMode"],"mappings":"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","file":"static/js/main.b57e8b59.chunk.js","sourcesContent":["/**\n * Sends a GraphQL request to the backend and fetches the response\n * @param query - GraphQL query string\n * @param variables - variables used in the GraphQL query definition\n * @param errorMsg - error message string in case of fetch failure\n * @returns an object having keys data which stores the data returned by the backend against the\n * GraphQL query, and errors which stores the array of error messages while retrieval (if any)\n */\nexport async function fetchGraphQLResponse(\n    query: string,\n    variables: { [key: string]: any },\n    errorMsg: string\n): Promise<{ data: any; errors: any } | undefined> {\n    try {\n        const response = await fetch('http://35.202.202.160:8000/api', {\n            method: 'POST',\n            body: JSON.stringify({ query, variables }),\n            headers: {\n                'Content-Type': 'application/json'\n            }\n        });\n        if (response.status !== 200 && response.status !== 201) {\n            throw new Error('HTTP ' + response.status + ': \"' + errorMsg + '\"');\n        }\n\n        const responseJSON = await response.json();\n        return { data: responseJSON.data, errors: responseJSON.errors };\n    } catch (e) {\n        console.error(e);\n    }\n}\n","import React from 'react';\n\nimport { IAuthContext } from '../@types/context';\n\nexport const authContextDefaults: IAuthContext = {\n    userID: null,\n    type: null,\n    token: null,\n    tokenExpiration: 99,\n    // userID: '11118001',\n    // token: 'abcdefghijklmnopqrstuvwxyz',\n    // type: 'Student',\n    // tokenExpiration: 99\n    login: () => {},\n    logout: () => {}\n};\n\nexport default React.createContext<IAuthContext>(authContextDefaults);\n","import React, { useContext, useState } from 'react';\nimport { Link } from 'react-router-dom';\n\nimport { IUserAuth } from '../@types/user';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../utils/HttpUtils';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './AuthModal.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function AuthModal() {\n  const authContext = useContext(AuthContext);\n  const [authFailMessage, setAuthFailMessage] = useState<string | null>(null);\n\n  // -- Referenced elements ----------------------------------------------------\n\n  const userEl = React.createRef<HTMLInputElement>();\n  const passEl = React.createRef<HTMLInputElement>();\n\n  // -- Callbacks --------------------------------------------------------------\n\n  const submitHandler = async (event: React.FormEvent<HTMLFormElement>) => {\n    event.preventDefault();\n    const user = userEl.current?.value;\n    const pass = passEl.current?.value;\n\n    if ((user && user.trim().length === 0) || (pass && pass.trim().length === 0)) return;\n\n    const response = await fetchGraphQLResponse(\n      `query login($userID: String!, $password: String!) {\n        login(userID: $userID, password: $password) {\n          userID\n          type\n          token\n          tokenExpiration\n        }\n      }`,\n      { userID: user, password: pass },\n      'login failed'\n    );\n\n    if (!response) return;\n\n    if (response.errors) {\n      setAuthFailMessage(response.errors[0].message);\n      if (userEl.current) userEl.current.value = '';\n      if (passEl.current) passEl.current.value = '';\n      const userField = document.getElementById('auth-form-user-id');\n      if (userField) userField.focus();\n    } else {\n      setAuthFailMessage(null);\n      const authData: IUserAuth = response.data.login;\n      authContext.login(authData.userID, authData.type, authData.token, authData.tokenExpiration);\n    }\n  };\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"auth-modal\">\n      <h2>Welcome</h2>\n      <form onSubmit={submitHandler}>\n        {authFailMessage && <span>{authFailMessage}</span>}\n        <input type=\"text\" id=\"auth-form-user-id\" placeholder=\"User ID\" ref={userEl} required />\n        <input\n          type=\"password\"\n          id=\"auth-form-password\"\n          placeholder=\"Password\"\n          ref={passEl}\n          required\n        />\n        <input type=\"submit\" value=\"Sign In\" />\n      </form>\n      <Link to=\"/\">Forgot password?</Link>\n    </div>\n  );\n}\n","import React from 'react';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport AuthModal from '../components/AuthModal';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './Auth.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function AuthPage() {\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"auth-back\">\n      <div id=\"auth-back-shape\">\n        <div id=\"auth-back-overlay\"></div>\n      </div>\n      <div id=\"auth-banner\" className=\"container\">\n        <div id=\"auth-main\" className=\"container\">\n          <div id=\"auth-heading\">\n            <h1>LIBM</h1>\n            <h2>\n              Connects â€“ people to people, people to place, people to learning.\n              <br />\n              <br />\n              Expanding horizons and fostering growth, one book at a time.\n            </h2>\n          </div>\n          <div id=\"auth-modal-wrap\">\n            <AuthModal />\n          </div>\n        </div>\n      </div>\n      <footer id=\"auth-footer\" className=\"container\">\n        <span>Copyright &copy;2022 Boomers</span>\n      </footer>\n    </div>\n  );\n}\n","import React from 'react';\nimport { Link } from 'react-router-dom';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport {\n  faBookReader,\n  faCashRegister,\n  faColumns,\n  faPlane,\n  faPlaneDeparture,\n  faPlaneArrival\n} from '@fortawesome/free-solid-svg-icons';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './SideBar.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function SideBar(props: { activeLinkName: string; isLibrarian: boolean }) {\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"sidebar\">\n      <div id=\"sidebar-overlay\"></div>\n      <div id=\"sidebar-inner-shadow\"></div>\n      <ul>\n        {!props.isLibrarian ? (\n          <React.Fragment>\n            <li className={props.activeLinkName === 'browse' ? 'link-active' : ''}>\n              <Link to=\"/browse\">\n                <FontAwesomeIcon icon={faBookReader} />\n                <span>Browse</span>\n              </Link>\n            </li>\n            <li className={props.activeLinkName === 'history' ? 'link-active' : ''}>\n              <Link to=\"/history\">\n                <FontAwesomeIcon icon={faCashRegister} />\n                <span>History</span>\n              </Link>\n            </li>\n            <li className={props.activeLinkName === 'dashboard' ? 'link-active' : ''}>\n              <Link to=\"/dashboard\">\n                <FontAwesomeIcon icon={faColumns} />\n                <span>Dashboard</span>\n              </Link>\n            </li>\n          </React.Fragment>\n        ) : (\n          <React.Fragment>\n            <li className={props.activeLinkName === 'awaiting' ? 'link-active' : ''}>\n              <Link to=\"/awaiting\">\n                <FontAwesomeIcon icon={faPlane} />\n                <span>All</span>\n              </Link>\n            </li>\n            <li className={props.activeLinkName === 'borrow' ? 'link-active' : ''}>\n              <Link to=\"/borrow\">\n                <FontAwesomeIcon icon={faPlaneDeparture} />\n                <span>Borrow</span>\n              </Link>\n            </li>\n            <li className={props.activeLinkName === 'return' ? 'link-active' : ''}>\n              <Link to=\"/return\">\n                <FontAwesomeIcon icon={faPlaneArrival} />\n                <span>Return</span>\n              </Link>\n            </li>\n          </React.Fragment>\n        )}\n      </ul>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\n// - Utilities -------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../utils/HttpUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSignOutAlt } from '@fortawesome/free-solid-svg-icons';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './NavBar.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function NavBar() {\n  const authContext = useContext(AuthContext);\n  const [name, setName] = useState('');\n\n  // fetch user's first name on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query user($userID: String!) {\n        user(userID: $userID) {\n          firstName\n        }\n      }`,\n        { userID: authContext.userID },\n        'user first name fetch failed'\n      );\n\n      if (!response) return;\n\n      setName(response.data.user.firstName || '');\n    })();\n  }, []);\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <nav className=\"container-fluid\">\n      <div id=\"nav-logo\">\n        <h1>LIBM</h1>\n      </div>\n      <div id=\"nav-user\">\n        <span>Hi,&nbsp;&nbsp;{name || 'USER'}</span>\n        <button onClick={authContext.logout}>\n          <FontAwesomeIcon icon={faSignOutAlt}></FontAwesomeIcon>\n        </button>\n      </div>\n    </nav>\n  );\n}\n","import React from 'react';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './Footer.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function Footer() {\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <footer id=\"template-footer\" className=\"container-fluid\">\n      <div className=\"container\">\n        <h1>LIBM</h1>\n        <h2>\n          Creating opportunities, connecting people to people, people to place, and people to learning.\n          <br />\n          Expanding horizons and fostering growth, one book at a time.\n        </h2>\n        <h3>Copyright &copy;2022 Boomers. All rights reserved.</h3>\n      </div>\n    </footer>\n  );\n}\n","import React, { useState } from 'react';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faSearch, faTimes } from '@fortawesome/free-solid-svg-icons';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './SearchBar.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function SearchBar(props: {\n  searchHandler: Function;\n  initialValue: string;\n  activeSearch: boolean;\n}) {\n  const [hasText, setHasText] = useState(false);\n\n  // -- Referenced elements ----------------------------------------------------\n\n  const searchEl = React.createRef<HTMLInputElement>();\n\n  // -- Callbacks --------------------------------------------------------------\n\n  const submitHandler = (e: React.FormEvent<HTMLFormElement>): void => {\n    e.preventDefault();\n    props.searchHandler(' ', false);\n    props.searchHandler(searchEl.current?.value.trim() || '', false);\n  };\n\n  const toggleClear = () => {\n    if (props.activeSearch) {\n      props.searchHandler(searchEl.current?.value.trim() || '', true);\n    }\n    setHasText(searchEl.current !== null && searchEl.current.value.trim() !== '' ? true : false);\n  };\n\n  const clearSearch = () => {\n    if (searchEl.current) {\n      searchEl.current.value = '';\n      setHasText(false);\n      document.getElementById('search-field')?.focus();\n    }\n  };\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <form onSubmit={submitHandler} className=\"search-bar\">\n      <button type=\"submit\">\n        <FontAwesomeIcon icon={faSearch} className=\"input-field-icon\" />\n      </button>\n      <input\n        id=\"search-field\"\n        type=\"text\"\n        placeholder=\"Search\"\n        onChange={toggleClear}\n        ref={searchEl}\n        autoComplete=\"off\"\n        defaultValue={props.initialValue}\n        minLength={3}\n      />\n      {hasText && (\n        <button onClick={clearSearch}>\n          <FontAwesomeIcon icon={faTimes} className=\"input-field-icon\" />\n        </button>\n      )}\n    </form>\n  );\n}\n","import React from 'react';\n\nexport default function CategorySprite() {\n  return (\n    <svg\n      width=\"164\"\n      height=\"144\"\n      viewBox=\"0 0 164 144\"\n      fill=\"none\"\n      xmlns=\"http://www.w3.org/2000/svg\"\n    >\n      <rect x=\"20\" y=\"82\" width=\"135\" height=\"36\" rx=\"18\" fill=\"#FFCDB2\"></rect>\n      <path fill=\"#ED956E\" d=\"M41 112h95v6H41z\"></path>\n      <path\n        d=\"M9 34l12 10.5 5.5 23 6 2h7l7 13.5-14 1-8.5 5.5L5 52 1 37l8-3zM68 31.5l13.5 4-5 14.5 14 3.5-6 15 14 3.5-4 10H76L57 44.5 45.5 21v-8l4-5.5 14-6-4 11.5 14 3.5-5.5 15z\"\n        fill=\"#E3E3E3\"\n      ></path>\n      <path\n        d=\"M68 31.5l13.5 4-5 14.5 14 3.5-6 15 14 3.5-4 10H76L57 44.5 45.5 21v-8l4-5.5 14-6-4 11.5 14 3.5-5.5 15z\"\n        fill=\"#E3E3E3\"\n      ></path>\n      <path\n        d=\"M63 36.7L85.5 82l-6.6.9-21.3-43.6 5.4-2.6zM141 25.5v57h-20L120 45l3.5-9 8.5-8 9-2.5z\"\n        fill=\"#C7C7C7\"\n      ></path>\n      <circle cx=\"156\" cy=\"113\" r=\"5\" fill=\"#67C7CC\"></circle>\n      <path\n        d=\"M12.6 55.6l6.2 12.2m111.3 50v0h7c4.3.1 8.5-1.4 11.8-4.2 4.7-4 7.2-9.1 6.2-15.3-1.5-10-8.6-15.7-18.7-15.6l-26.2.3-18-.3-54.6.3h-.2a16.5 16.5 0 00-14.9 12.2c-.8 2.6-1 5.3-.5 7.9 1 7.3 8.2 14.2 15.7 14.3 8.2.2 16.4.4 24.6.4 13.7 0 27.5.2 41.3 0h26.5zM63.8 1.6c-4.3 1.8-8.4 3.4-12.2 5.2a10 10 0 00-6 7.4c-.8 3.4-.3 7 1.2 10.2a9320.2 9320.2 0 0028 57 2.8 2.8 0 002 1.3 566.2 566.2 0 0017.7 0l.6-.6 3.8-10.3-14.3-2.9 6-15.5-14-3.1L82 34.7l-14-3.1 5.7-15.3-14-3.1 4.2-11.7zm76.9 81.4V25.3l-2.5.4a23.5 23.5 0 00-17.9 23.1c0 9 .2 18 .3 26.9v7.2h20v0zM38.5 68C32 71.3 27 69.6 25.2 63.5c-1.5-4.9-2.7-9.8-3.5-14.8a12.1 12.1 0 00-4.8-8.6c-1-.8-1.9-1.6-2.7-2.5C9.3 33 9.3 33 3.4 35.9c-.4.2-.9.3-1.1.6-.4.4-.9 1-.8 1.5 1.2 4.8 2 9.8 4 14.2C11 64 17 75.5 22.6 87.2l1.8 2.3c4.8-4 9.3-7 15.6-6.5 2 .2 4 0 6.4 0l-1.1-2.2L38.5 68v0zm96.7-23.7v22.5-22.5z\"\n        stroke=\"#000\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      ></path>\n      <path\n        d=\"M28.8 101.2s.6 10 15.5 10.6h48.2M137 92.3V107m7.2-7.3h-14.7m26.4 6.8a6 6 0 11-6 6l6-6z\"\n        stroke=\"#000\"\n        strokeWidth=\"3\"\n        strokeLinecap=\"round\"\n        strokeLinejoin=\"round\"\n      ></path>\n    </svg>\n  );\n}\n","import React from 'react';\n\nexport default function StudyDesk() {\n  return (\n    <svg width=\"370px\" xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 1596 932\">\n      <defs>\n        <linearGradient x1=\"50%\" y1=\"108.09%\" x2=\"50%\" y2=\"5.05%\" id=\"a\">\n          <stop stopColor=\"#FFF\" stopOpacity=\".53\" offset=\"0%\"></stop>\n          <stop stopColor=\"#FFF\" stopOpacity=\"0\" offset=\"100%\"></stop>\n        </linearGradient>\n      </defs>\n      <g fill=\"none\" fillRule=\"evenodd\">\n        <rect\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".19\"\n          x=\".94\"\n          y=\"911.81\"\n          width=\"1594.12\"\n          height=\"19.41\"\n          rx=\"9.38\"\n        ></rect>\n        <path\n          d=\"M1029.39 333.19s-24-9-42.84-11l-11.66 34s44.93 3.26 66.84 14.66l-12.34-37.66zm-420.81 55.99v52.53s-2.75 35.83 22.6 32.16v31.76s-46.1 5.5-50.52-42.65v-73.8h27.92zm427.65 0v52.53s2.74 35.83-22.6 32.16v31.76s46.1 5.5 50.52-42.65v-73.8h-27.92zm-247.2 9.36h64.49v33.59h-64.49zm-171.36-65.35s24-9 42.84-11l11.66 34s-44.93 3.26-66.84 14.66l12.34-37.66z\"\n          fill=\"#031728\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1089.67 337a16.58 16.58 0 01-4.18 11.16 13.92 13.92 0 01-6.93 4.22v27.27c0 15.88-15.1 17.91-15.1 17.91s-6.45 1-23.39 0-16.2-18.72-16.2-18.72v-26.75c-5.91-1.91-10.24-8-10.24-15.13a16.55 16.55 0 014.18-11.15 13.55 13.55 0 0110.09-4.63h47.5c7.88 0 14.27 7.07 14.27 15.82z\"\n          fill=\"#1F273A\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1058.87 392c-3.1 0-7.37 0-13-.37-14.32-.86-13.7-15.83-13.7-15.83v-22.55c-5-1.61-8.65-6.73-8.65-12.78A14 14 0 011027 331a11.44 11.44 0 018.53-3.91h3.27a11.44 11.44 0 00-8.53 3.91 14 14 0 00-3.54 9.43c0 6 3.66 11.17 8.66 12.78v22.58s-.62 15 13.69 15.83c3.92.27 7.14.38 9.79.38z\"\n          opacity=\".19\"\n          fill=\"#EBEDF2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1089.68 337a16.58 16.58 0 01-4.19 11.15 14 14 0 01-6.93 4.23v27.26c0 15.89-15.1 17.91-15.1 17.91s-4.26.68-14.93.38a45.34 45.34 0 005-.38s15.1-2 15.1-17.91v-27.29a14 14 0 006.93-4.23 16.57 16.57 0 004.18-11.15c0-8.72-6.39-15.78-14.27-15.78h9.92c7.9 0 14.29 7.06 14.29 15.81z\"\n          fill=\"#171E2D\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M555.36 337a16.63 16.63 0 004.18 11.16 13.92 13.92 0 006.93 4.22v27.27c0 15.88 15.11 17.91 15.11 17.91s6.44 1 23.38 0c16.94-1 16.2-18.72 16.2-18.72v-26.75c5.92-1.91 10.25-8 10.25-15.13a16.56 16.56 0 00-4.19-11.15 13.55 13.55 0 00-10.09-4.63h-47.5c-7.88 0-14.27 7.07-14.27 15.82z\"\n          fill=\"#1F273A\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M586.17 392c3.09 0 7.37 0 13-.37 14.32-.86 13.7-15.83 13.7-15.83v-22.55c5-1.61 8.66-6.73 8.66-12.78A14 14 0 00618 331a11.44 11.44 0 00-8.53-3.91h-3.26a11.44 11.44 0 018.52 3.91 14 14 0 013.54 9.43c0 6-3.66 11.17-8.66 12.78v22.58s.62 15-13.69 15.83c-3.92.27-7.11.38-9.75.38z\"\n          opacity=\".19\"\n          fill=\"#EBEDF2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M555.36 337a16.57 16.57 0 004.18 11.15 14 14 0 006.93 4.23v27.26c0 15.89 15.1 17.91 15.1 17.91s4.26.68 14.94.38a45.76 45.76 0 01-5-.38s-15.1-2-15.1-17.91v-27.29a14 14 0 01-6.93-4.23 16.57 16.57 0 01-4.2-11.12c0-8.72 6.39-15.78 14.27-15.78h-9.92c-7.88-.03-14.27 7.03-14.27 15.78z\"\n          fill=\"#171E2D\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M983.25 368.27a123.43 123.43 0 01-18 18.62S941.12 412.51 843 410a818.98 818.98 0 00-41.27 0c-98.17 2.49-122.3-23.13-122.3-23.13-75.16-63.65-24.06-151.79-9.24-270.72 3.52-28.34 13.28-49.76 26.25-65.93C740.64-4.89 822.31 1 822.31 1s136.62-9.79 152.18 115.21c13.42 107.7 56.61 190.17 8.76 252.06z\"\n          fill=\"#FFAD01\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M983.25 368.27c-197.61-66.77-264.35-222.9-286.86-318C740.64-4.89 822.31 1 822.31 1s136.62-9.79 152.18 115.21c13.42 107.7 56.61 190.17 8.76 252.06z\"\n          opacity=\".26\"\n          fill=\"#DDDAD7\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M974.24 539l-142.7 6.27c-6.76.3-13.53.3-20.31 0L669.32 539c-24.87 0-45-22.29-45-49.78v-7.33c0-27.49 20.15-49.77 45-49.77l145.32-5.26c4.5-.16 9-.16 13.5 0l146.1 5.26c24.87 0 45 22.28 45 49.77v7.33c.02 27.51-20.13 49.78-45 49.78z\"\n          fill=\"#BC7B08\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1019.26 481.91v7.33a55.23 55.23 0 01-1 10.7H625.34a55.23 55.23 0 01-1-10.7v-7.33c0-19.15 9.78-35.78 24.13-44.09a41.42 41.42 0 0020.89 5.67l141.91 6.26c6.77.3 13.54.3 20.31 0l142.71-6.26a41.48 41.48 0 0020.89-5.67c14.29 8.31 24.08 24.94 24.08 44.09z\"\n          fill=\"#FFAD01\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path fill=\"#8F95A1\" fillRule=\"nonzero\" d=\"M801.04 539.43h43.16v127.44h-43.16z\"></path>\n        <path\n          d=\"M844.2 539.43v74.23c-5.1 7.65-12.82 16.28-22.93 19.41-9.6 3-16.09 1-20.23-1.76v-91.88h43.16z\"\n          fill=\"#6A7382\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path fill=\"#45465A\" fillRule=\"nonzero\" d=\"M801.04 539.43h43.16v10.89h-43.16z\"></path>\n        <path\n          fill=\"#F2F2F2\"\n          fillRule=\"nonzero\"\n          opacity=\".34\"\n          d=\"M829.54 539.43h4.89v127.44h-4.89zm7.43 0h3.05v127.44h-3.05zm-32.98 0h3.05v127.44h-3.05z\"\n        ></path>\n        <path fill=\"#8F95A1\" fillRule=\"nonzero\" d=\"M795.34 664.84h54.77v55.58h-54.77z\"></path>\n        <path fill=\"#1F273A\" fillRule=\"nonzero\" d=\"M791.78 720.42h61.38v65.66h-61.38z\"></path>\n        <path\n          fill=\"#F2F2F2\"\n          fillRule=\"nonzero\"\n          opacity=\".34\"\n          d=\"M823.34 664.84h6.2v55.58h-6.2zm13.59 55.58h6.2v65.66h-6.2zm8.96 0h2.23v65.66h-2.23zM834.43 664.84h3.87v55.58h-3.87zm-35.34 0h3.87v55.58h-3.87zm-5.69 55.58h3.87v64.91h-3.87z\"\n        ></path>\n        <path\n          fill=\"#116178\"\n          fillRule=\"nonzero\"\n          d=\"M822.31 782.11v.06h-.61zm-.68 27.44h.68v.09l-.68-.09z\"\n        ></path>\n        <path\n          d=\"M1010.39 875.54l-14 3.9c-6.34 1.76-12.75-2.6-14.88-10.12a15.45 15.45 0 00-5.29-8.14c-77.59-59.17-231.6-59.16-309.16 0a15.39 15.39 0 00-5.28 8.13c-2.13 7.52-8.54 11.87-14.88 10.11l-14-3.9c-10.28-2.85-13.52-18.93-5.41-27.18 12-12.24 35.63-25.28 63.35-38 35.94-16.38 81.42-23.47 108.67-26.44a204.85 204.85 0 0144.35 0c27.25 3 72.73 10.06 108.64 26.43 27.71 12.72 51.31 25.76 63.34 38 8.07 8.28 4.83 24.36-5.45 27.21z\"\n          fill=\"#1F273A\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1020.31 861.86a16.4 16.4 0 00-4.5-10.14c-12-12.25-35.64-25.29-63.34-38-35.93-16.38-81.4-23.47-108.66-26.44a204.13 204.13 0 00-44.34 0c-27.24 3-72.73 10.05-108.67 26.44-27.72 12.71-51.31 25.75-63.35 38a16.38 16.38 0 00-4.45 10.14 17.06 17.06 0 014.49-13.5c12-12.24 35.63-25.27 63.35-38 35.94-16.38 81.43-23.47 108.67-26.44a205.4 205.4 0 0144.34 0c27.26 3 72.73 10.07 108.66 26.44 27.7 12.73 51.3 25.76 63.34 38a17.09 17.09 0 014.46 13.5z\"\n          fill=\"#F2F2F2\"\n          fillRule=\"nonzero\"\n          opacity=\".34\"\n        ></path>\n        <path\n          d=\"M1010.4 874.79l-14 3.9c-6.34 1.75-12.76-2.59-14.89-10.12a15.44 15.44 0 00-5.29-8.15c-77.58-59.16-231.6-59.14-309.15 0a15.57 15.57 0 00-5.28 8.13c-2.13 7.52-8.54 11.88-14.88 10.11l-14-3.9c-7.24-2-11-10.57-9.75-18.33.89 5.73 4.35 10.86 9.75 12.36l14 3.88c6.34 1.77 12.75-2.59 14.88-10.1a15.49 15.49 0 015.28-8.13c77.55-59.16 231.57-59.16 309.15 0a15.39 15.39 0 015.29 8.13c2.13 7.53 8.55 11.89 14.89 10.12l14-3.88c5.38-1.5 8.84-6.63 9.73-12.36 1.24 7.77-2.51 16.32-9.73 18.34z\"\n          fill=\"#031728\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path d=\"M820.94 809.5h.69-.69z\" fill=\"#116178\" fillRule=\"nonzero\"></path>\n        <path\n          d=\"M989.83 536a41.39 41.39 0 01-15.53 3l-142.76 6.3c-6.77.3-13.54.3-20.32 0l-142-6.26a41.48 41.48 0 01-15.54-3 41.11 41.11 0 0115.54-3l145.38-5.26c4.5-.16 9-.16 13.5 0l146.17 5.26a41 41 0 0115.56 2.96z\"\n          fill=\"#FFAD01\"\n          fillRule=\"nonzero\"\n        ></path>\n        <circle fill=\"#031728\" fillRule=\"nonzero\" cx=\"643.15\" cy=\"866.1\" r=\"24.07\"></circle>\n        <circle fill=\"#252D40\" fillRule=\"nonzero\" cx=\"645.65\" cy=\"868.6\" r=\"21.57\"></circle>\n        <circle fill=\"#303B4F\" fillRule=\"nonzero\" cx=\"645.65\" cy=\"868.6\" r=\"15.57\"></circle>\n        <path\n          d=\"M654.36 859a12.25 12.25 0 00-8.18-3.15 12.62 12.62 0 00-12.45 12.79 13 13 0 003 8.36 13 13 0 01-4.25-9.65 12.62 12.62 0 0112.44-12.79 12.28 12.28 0 019.44 4.44z\"\n          fill=\"#F5F6F7\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M661.22 868.6a15.58 15.58 0 01-27.59 9.92 15.58 15.58 0 0022-21.85 15.54 15.54 0 015.59 11.93z\"\n          fill=\"#1A2535\"\n          fillRule=\"nonzero\"\n        ></path>\n        <circle fill=\"#031728\" fillRule=\"nonzero\" cx=\"1002.06\" cy=\"866.1\" r=\"24.07\"></circle>\n        <circle fill=\"#252D40\" fillRule=\"nonzero\" cx=\"999.56\" cy=\"868.6\" r=\"21.57\"></circle>\n        <circle fill=\"#303B4F\" fillRule=\"nonzero\" cx=\"999.56\" cy=\"868.6\" r=\"15.57\"></circle>\n        <path\n          d=\"M990.84 859a12.28 12.28 0 018.19-3.15c6.97.1 12.54 5.82 12.45 12.79a13 13 0 01-3 8.36 13 13 0 004.25-9.65c.1-6.97-5.47-12.7-12.44-12.79a12.31 12.31 0 00-9.45 4.44z\"\n          fill=\"#F5F6F7\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M984 868.6a15.58 15.58 0 0027.59 9.92 15.58 15.58 0 01-22-21.85A15.56 15.56 0 00984 868.6z\"\n          fill=\"#1A2535\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path fill=\"#000\" fillRule=\"nonzero\" opacity=\".08\" d=\"M685.08 412.6v.11l-.01-.11z\"></path>\n        <path\n          fill=\"url(#a)\"\n          fillRule=\"nonzero\"\n          d=\"M1034.79 20.83l-60.24 165.22H671.81L612.55 20.83z\"\n        ></path>\n        <path\n          fill=\"#E8E8E8\"\n          fillRule=\"nonzero\"\n          d=\"M966.22 312.49l-288 1.18-9.55-190.26h310.01z\"\n        ></path>\n        <path fill=\"#FFF\" fillRule=\"nonzero\" d=\"M687.11 313.64l-8.89.04-9.55-190.27h8.9z\"></path>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".08\"\n          d=\"M978.67 123.41l-12.45 189.07-288 1.2v-.12h-.02l-.06-1.36 260.08-13.28 11.56-175.51z\"\n        ></path>\n        <circle\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".05\"\n          cx=\"823.68\"\n          cy=\"218.54\"\n          r=\"17.89\"\n        ></circle>\n        <path\n          fill=\"#824E37\"\n          fillRule=\"nonzero\"\n          d=\"M1273.14 371.3l56.04 559.92h28.09l-59.51-559.92zm-264.55 0l-56.04 559.92h-28.08l59.5-559.92z\"\n        ></path>\n        <path\n          fill=\"#824E37\"\n          fillRule=\"nonzero\"\n          d=\"M993.07 486.69h299.56v38.35H993.07zM632.21 371.3l56.04 559.92h28.09l-59.5-559.92zm-264.55 0l-56.04 559.92h-28.08l59.5-559.92z\"\n        ></path>\n        <path fill=\"#824E37\" fillRule=\"nonzero\" d=\"M352.15 486.69h299.56v38.35H352.15z\"></path>\n        <rect\n          fill=\"#D38552\"\n          fillRule=\"nonzero\"\n          x=\"303.16\"\n          y=\"303.32\"\n          width=\"1041.03\"\n          height=\"34.68\"\n          rx=\"5.14\"\n        ></rect>\n        <path fill=\"#030005\" fillRule=\"nonzero\" d=\"M329.7 338h999.86v18.88H329.7z\"></path>\n        <path\n          d=\"M329.32 356.88h999.86v20.28a8.56 8.56 0 01-8.56 8.56H337.87a8.56 8.56 0 01-8.56-8.56v-20.28h.01z\"\n          fill=\"#D38552\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1344.18 311.68v18c0 4.61-3 8.88-10.51 8.35h-220.52c5.81 0 10.51-3.74 10.51-8.35v-18c0-4.62-4.7-8.35-10.51-8.35h220.52c7.43-.44 10.51 3.73 10.51 8.35zm-15 45.2v14.94c0 7.67-6.17 14.21-17.5 13.89h-220.5c9.65 0 17.48-6.22 17.48-13.89v-14.94h220.52z\"\n          opacity=\".24\"\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M668.67 123.41s26.65 50.94 61.27 65.08c34.62 14.14 131.14 40 151.87 54.92 37.41 26.93 47.52 62.8 47.52 62.8H677.84l-9.17-182.8z\"\n          opacity=\".25\"\n          fill=\"#FFF\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M261.93 525.86s-103.29 64.64-79.84 173c0-.01 100.11-60.86 79.84-173z\"\n          fill=\"#1F589A\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M171 581.45c-48.1-120.57 40.2-199.88 40.2-199.88s50.7 107.27-40.2 199.88z\"\n          fill=\"#152E59\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M150.72 807.62c-81.31-156.3 50.73-252.24 50.73-252.24S286 694.89 150.72 807.62z\"\n          fill=\"#152E59\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M150.73 807.62c-.43-.83-.86-1.66-1.26-2.49C270.72 701.29 208.61 576 198.53 557.65c1.88-1.52 2.93-2.28 2.93-2.28S286 694.88 150.73 807.62z\"\n          fill=\"#1D5394\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M144 691.47V385.61s106.36 142.78 0 305.86z\"\n          fill=\"#3485F4\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M144 385.61v305.86c-106.32-163.08 0-305.86 0-305.86z\"\n          fill=\"#1D5394\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M140.41 753.59L53.86 553.2s110.07 63.46 86.55 200.39z\"\n          fill=\"#3485F4\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M53.86 553.2l86.55 200.39C24.58 676.84 53.86 553.2 53.86 553.2z\"\n          fill=\"#1D5394\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          fill=\"#4E86C5\"\n          fillRule=\"nonzero\"\n          d=\"M87.69 780.1h146.48v36.62H87.69zm136.53 36.62l-.45 4.61-9.96 99.62H109.58l-12.45-99.62-.57-4.61z\"\n        ></path>\n        <path\n          fill=\"#F2F5F7\"\n          fillRule=\"nonzero\"\n          opacity=\".22\"\n          d=\"M194.74 780.1h11.27v36.62h-11.27zm6 36.62l-.23 4.61-5.27 99.62h-9.84l5.27-99.62.23-4.61z\"\n        ></path>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".22\"\n          d=\"M224.54 816.72l-.45 5.63H122.37l-.57-5.63z\"\n        ></path>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".28\"\n          d=\"M87.69 780.1h25.35v36.62H87.69zm47.1 140.85h-25.43L96.9 821.33l-.57-4.61h25.44l.56 4.61z\"\n        ></path>\n        <path fill=\"#FE168D\" fillRule=\"nonzero\" d=\"M1119.97 240.2h172.9v23.27h-172.9z\"></path>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".19\"\n          d=\"M1119.97 260.94h172.9v2.54h-172.9z\"\n        ></path>\n        <path fill=\"#FFAD01\" fillRule=\"nonzero\" d=\"M1110 263.48h172.9v23.27H1110z\"></path>\n        <path fill=\"#000\" fillRule=\"nonzero\" opacity=\".19\" d=\"M1110 283.43h172.9v3.32H1110z\"></path>\n        <path fill=\"#281F6F\" fillRule=\"nonzero\" d=\"M1124.96 286.75h172.9v16.62h-172.9z\"></path>\n        <text fill=\"#FFF\" opacity=\".75\" fontFamily=\"Helvetica\" fontSize=\"12.16\">\n          <tspan x=\"1137.83\" y=\"278.68\">\n            RU\n          </tspan>\n        </text>\n        <text\n          transform=\"translate(1154 244)\"\n          opacity=\".96\"\n          fill=\"#FFF\"\n          fontFamily=\"Helvetica\"\n          fontSize=\"12.16\"\n        >\n          <tspan x=\".64\" y=\"11.41\">\n            C++\n          </tspan>\n        </text>\n        <g opacity=\".75\" fill=\"#FFF\" fontFamily=\"Helvetica\" fontSize=\"10.22\">\n          <text transform=\"translate(1154.82 287.1)\">\n            <tspan x=\"0\" y=\"10\">\n              p\n            </tspan>\n          </text>\n          <text transform=\"translate(1154.82 287.1)\">\n            <tspan x=\"6.76\" y=\"10\">\n              y\n            </tspan>\n          </text>\n          <text transform=\"translate(1154.82 287.1)\">\n            <tspan x=\"12.94\" y=\"10\">\n              thon\n            </tspan>\n          </text>\n        </g>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".19\"\n          d=\"M1134.93 290.08h1.66v13.3h-1.66zm146.3 0h1.66v13.3h-1.66zm-9.97-23.28h3.32v19.95h-3.32zm11.63-23.27h3.32v19.95h-3.32zm-6.65 0h3.32v19.95h-3.32zm-144.63 0h3.32v19.95h-3.32zm-6.65 0h3.32v19.95h-3.32zm142.97 23.27h1.66v19.95h-1.66zm-146.3 0h3.32v19.95h-3.32zm-3.32 0h1.66v19.95h-1.66z\"\n        ></path>\n        <path\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n          opacity=\".19\"\n          d=\"M1124.96 300h172.9v3.32h-172.9z\"\n        ></path>\n        <path\n          d=\"M1158.83 178.5c0 12.57 4.51 20.68 10.08 20.68v-45.5s-10.08 12.25-10.08 24.82z\"\n          fill=\"#C2FFC2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1168.91 153.68v45.5c5.56 0 10.07-8.11 10.07-20.68s-10.07-24.82-10.07-24.82z\"\n          fill=\"#80A880\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1178.2 178c-8.88 8.89-11.43 17.82-7.5 21.75l32.18-32.18s-15.79 1.56-24.68 10.43z\"\n          fill=\"#C2FFC2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1202.88 167.58l-32.18 32.18c3.93 3.93 12.86 1.38 21.75-7.51s10.43-24.67 10.43-24.67z\"\n          fill=\"#80A880\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1159.61 178c8.88 8.89 11.44 17.82 7.5 21.75l-32.18-32.18s15.79 1.56 24.68 10.43z\"\n          fill=\"#C2FFC2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1134.93 167.58l32.18 32.18c-3.93 3.93-12.86 1.38-21.75-7.51s-10.43-24.67-10.43-24.67z\"\n          fill=\"#80A880\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1168.91 196.58v39.24h18.32A2.77 2.77 0 001190 233v-36.42h-21.09z\"\n          fill=\"#8FB4C9\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M1168.91 196.58h-21.1V233a2.77 2.77 0 002.77 2.78h18.33v-39.2z\"\n          fill=\"#A4CDE7\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path fill=\"#528AA8\" fillRule=\"nonzero\" d=\"M1168.91 235.82h16.38v4.39h-16.38z\"></path>\n        <path fill=\"#79A3BA\" fillRule=\"nonzero\" d=\"M1152.52 235.82h16.38v4.39h-16.38z\"></path>\n        <path\n          d=\"M550.46 272v11.4c0 4.37-2.93 10.88-10.89 10.88h-9.09l.66-4.87h8.43c5.64 0 6-5 6-6.05V272c0-1-.37-6.05-6-6.05h-8.43v-4.87h8.43c7.96.01 10.87 6.52 10.89 10.92z\"\n          fill=\"#152E59\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M550.46 272v11.4c0 4.37-2.93 10.88-10.89 10.88h-.65c8 0 10.87-6.51 10.89-10.88V272c0-4.37-2.93-10.88-10.89-10.88h.65c7.96-.03 10.87 6.48 10.89 10.88z\"\n          opacity=\".21\"\n          fill=\"#F2F2F2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M547.49 272v11.35a6.32 6.32 0 01-6.55 6.05h-1.37c5.64 0 6-5 6-6.05V272c0-1-.37-6.05-6-6.05h1.37a6.32 6.32 0 016.55 6.05z\"\n          opacity=\".37\"\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path fill=\"#152E59\" fillRule=\"nonzero\" d=\"M530.4 303.32h-36.55l-3.03-52.57h43.04z\"></path>\n        <path\n          d=\"M500.64 303.32h-2.6l-3.02-52.57h2.6zm2.6 0h-.98l-3.02-52.57h.98z\"\n          opacity=\".21\"\n          fill=\"#F2F2F2\"\n          fillRule=\"nonzero\"\n        ></path>\n        <path\n          d=\"M533.87 250.75l-3.48 52.57h-3.9l3.48-52.57z\"\n          opacity=\".31\"\n          fill=\"#000\"\n          fillRule=\"nonzero\"\n        ></path>\n      </g>\n    </svg>\n  );\n}\n","import React from 'react';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport SearchBar from '../SearchBar';\nimport { CategorySprite, StudyDesk } from '../Artworks';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './BrowseGreetContent.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function BrowseGreetContent(props: {\n  categories: string[];\n  setSearchQuery: Function;\n}) {\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"browse-content\" className=\"container\">\n      <div id=\"browse-greet-box\">\n        <div id=\"browse-banner-wrap\">\n          <StudyDesk />\n        </div>\n        <div id=\"browse-search-wrap\">\n          <h1>Hello and welcome!</h1>\n          <h2>Discover new perspectives with our library</h2>\n          <div id=\"browse-search-bar-wrap\">\n            <SearchBar\n              searchHandler={(query: string) =>\n                props.setSearchQuery({ query, category: 'Any Category', author: false })\n              }\n              initialValue=\"\"\n              activeSearch={false}\n            />\n          </div>\n        </div>\n      </div>\n      <div id=\"browse-category\">\n        <h2>Or, Browse by category</h2>\n        {props.categories.length === 0 && <div className=\"rolling\"></div>}\n        {props.categories.length !== 0 && (\n          <div id=\"browse-category-blocks\">\n            {props.categories.map((category, index) => (\n              <div\n                className=\"browse-category-block\"\n                key={`category-block-${index}`}\n                onClick={() => props.setSearchQuery({ query: '', category, author: false })}\n              >\n                <div>{<CategorySprite />}</div>\n                <h3>{category}</h3>\n              </div>\n            ))}\n          </div>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useState } from 'react';\n\nimport { IBook } from '../@types/book';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../utils/HttpUtils';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './BookDetailsModal.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function BookDetailsModal(props: {\n  book: IBook | null;\n  bookID: string | null;\n  setBook: Function;\n}) {\n  const [viewingBook, setViewingBook] = useState<IBook | null>(props.book);\n\n  if (!viewingBook) {\n    (async () => {\n      if (props.bookID) {\n        const response = await fetchGraphQLResponse(\n          `query book($bookID: String!) {\n            book(bookID: $bookID) {\n              bookID\n              title\n              category\n              authors {\n                name\n              }\n              abstract\n              quantity\n            }\n          }`,\n          { bookID: props.bookID },\n          'book search failed'\n        );\n\n        if (!response) return;\n\n        setViewingBook(response.data.book);\n      }\n    })();\n  }\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"book-details-modal\">\n      <div id=\"book-details-modal-body\" style={{ marginTop: window.scrollY }}>\n        <div\n          id=\"details-modal-close\"\n          onClick={() => {\n            document.body.style.overflow = 'auto';\n            props.setBook(null);\n          }}\n        >\n          &times;\n        </div>\n        {!viewingBook && <div className=\"rolling-2\"></div>}\n        {viewingBook && (\n          <React.Fragment>\n            <h4 className=\"search-item-id\">Book ID: {viewingBook.bookID}</h4>\n            <h1 className=\"search-item-title\">{viewingBook.title}</h1>\n            <h4 className=\"search-item-category\">{viewingBook.category}</h4>\n            <ul className=\"search-item-authors\">\n              {viewingBook.authors.map((author, index) => (\n                <li key={`search-item-author-${index}`}>\n                  <h4>{typeof author === 'string' ? author : author.name}</h4>\n                </li>\n              ))}\n            </ul>\n            <p className=\"search-item-abstract\">{viewingBook.abstract}</p>\n          </React.Fragment>\n        )}\n      </div>\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\nimport Select from 'react-select';\n\nimport { IBook } from '../../@types/book';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../../utils/HttpUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport BookDetailsModal from '../BookDetailsModal';\nimport SearchBar from '../SearchBar';\nimport { FontAwesomeIcon } from '@fortawesome/react-fontawesome';\nimport { faArrowLeft, faArrowRight, faClock } from '@fortawesome/free-solid-svg-icons';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './BrowseListContent.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function BrowseListContent(props: {\n  categories: string[];\n  searchQuery: {\n    query: string;\n    category: string;\n    author: boolean;\n  };\n  resetGlobalSearchQuery: Function;\n  userBooks: {\n    notifications: string[];\n    borrowedCurr: string[];\n    borrowedPrev: string[];\n    awaiting: string[];\n  };\n  borrowLimit: number;\n}) {\n  const authContext = useContext(AuthContext);\n  const browserHistory = useHistory();\n\n  const [notifications] = useState<string[]>(props.userBooks.notifications);\n  const [borrowedCurr] = useState<string[]>(props.userBooks.borrowedCurr);\n  const [borrowedPrev] = useState<string[]>(props.userBooks.borrowedPrev);\n  const [awaiting] = useState<string[]>(props.userBooks.awaiting);\n\n  // -- Data Fetch Operations --------------------------------------------------\n\n  const [searchQuery, setSearchQuery] = useState<{\n    query: string;\n    category: string;\n    author: boolean;\n  }>(props.searchQuery);\n\n  const [searchItemsList, setSearchItemsList] = useState<(IBook & { actionState: string })[]>([]);\n  const [searchItemListFetched, setSearchItemListFetched] = useState(false);\n  // fetch search items list when search query changes\n  useEffect(() => {\n    (async () => {\n      console.log('updating');\n      const response = await fetchGraphQLResponse(\n        `query bookSearch($query: String!, $author: Boolean!, $category: String!) {\n          bookSearch(query: $query, author: $author, category: $category) {\n            bookID\n            title\n            category\n            authors {\n              name\n            }\n            abstract\n            quantity\n          }\n        }`,\n        { ...searchQuery },\n        'book search failed'\n      );\n\n      if (!response) return;\n\n      console.log('updated');\n\n      const findState = (bookID: string, quantity: number): string => {\n        let state = '';\n        if (\n          awaiting.indexOf(bookID) === -1 &&\n          borrowedCurr.indexOf(bookID) === -1 &&\n          notifications.indexOf(bookID) === -1\n        ) {\n          if (awaiting.length + borrowedCurr.length < props.borrowLimit) {\n            state = quantity > 0 ? 'borrowable' : 'notifiable';\n          }\n        } else {\n          if (borrowedCurr.indexOf(bookID) !== -1) {\n            state = awaiting.indexOf(bookID) !== -1 ? 'awaiting' : 'borrowed';\n          } else {\n            state = awaiting.indexOf(bookID) !== -1 ? 'awaiting' : 'subscribed';\n          }\n        }\n        return state;\n      };\n\n      setSearchItemsList(\n        response.data.bookSearch.map((book: IBook) => ({\n          ...book,\n          authors: book.authors.map((author) => author.name),\n          actionState: findState(book.bookID, book.quantity)\n        }))\n      );\n      setSearchItemListFetched(true);\n    })();\n  }, [\n    searchQuery.query,\n    searchQuery.category,\n    notifications,\n    borrowedCurr,\n    borrowedPrev,\n    awaiting\n  ]);\n\n  // -- Callbacks ----------------------------------------------------------------------------------\n\n  const borrowHandler = async (bookID: string) => {\n    const response = await fetchGraphQLResponse(\n      `mutation awaitTransaction($userID: String!, $bookID: String!) {\n        awaitTransaction(userID: $userID, bookID: $bookID, type: \"borrow\") {\n          createdAt\n        }\n      }`,\n      { userID: authContext.userID, bookID: bookID },\n      ''\n    );\n\n    if (!response) return;\n\n    if (response.errors) alert(response.errors[0].message);\n\n    browserHistory.push('/dashboard');\n  };\n\n  const subscribeHandler = async (bookID: string) => {\n    const response = await fetchGraphQLResponse(\n      `mutation subscribe($userID: String!, $bookID: String!) {\n        subscribe(userID: $userID, bookID: $bookID) {\n          bookID\n        }\n      }`,\n      { userID: authContext.userID, bookID: bookID },\n      ''\n    );\n\n    if (!response) return;\n\n    if (response.errors) alert(response.errors[0].message);\n\n    browserHistory.push('/dashboard');\n  };\n\n  // -- Transient states ---------------------------------------------------------------------------\n\n  const [viewingBookDetails, setViewingBookDetails] = useState<IBook | null>(null);\n  const [borrowingID, setBorrowingID] = useState<string | null>(null);\n  const [subscribingID, setSubscribingID] = useState<string | null>(null);\n\n  // -- Render -------------------------------------------------------------------------------------\n\n  return (\n    <React.Fragment>\n      <div id=\"search-list-search-container\">\n        <div className=\"container\">\n          <div>\n            <div id=\"search-list-back-to-greet\">\n              <FontAwesomeIcon\n                icon={faArrowLeft}\n                className=\"input-field-icon\"\n                onClick={() => props.resetGlobalSearchQuery()}\n              />\n            </div>\n            {borrowedCurr.length + awaiting.length >= props.borrowLimit && (\n              <div id=\"borrow-limit-disclaimer\">\n                <span>You have reached borrow limit</span>\n              </div>\n            )}\n          </div>\n          <div id=\"search-list-search-bar-wrap\">\n            <SearchBar\n              searchHandler={(query: string, activeSearch: boolean) => {\n                setSearchItemListFetched(activeSearch);\n                console.log(query);\n                setSearchQuery({\n                  query,\n                  category: searchQuery.category,\n                  author: searchQuery.author\n                });\n              }}\n              initialValue={searchQuery.query}\n              activeSearch={false}\n            />\n            <input\n              type=\"checkbox\"\n              id=\"search-author\"\n              name=\"author\"\n              value=\"Author\"\n              style={{ marginLeft: '1rem' }}\n              checked={searchQuery.author}\n              onChange={() => {\n                setSearchQuery({\n                  query: searchQuery.query,\n                  category: searchQuery.category,\n                  author: !searchQuery.author\n                });\n              }}\n            ></input>\n            <span style={{ color: 'gray' }}>Author</span>\n            <Select\n              id=\"search-category-dropdown\"\n              options={[\n                { value: 'Any Category', label: 'Any Category' },\n                ...props.categories.map((category) => ({\n                  value: `${category}`,\n                  label: `${category}`\n                }))\n              ]}\n              defaultValue={{ value: `${searchQuery.category}`, label: `${searchQuery.category}` }}\n              onChange={(option: any) => {\n                if (option) {\n                  setSearchItemListFetched(false);\n                  setSearchQuery({\n                    query: searchQuery.query,\n                    category: option.label,\n                    author: searchQuery.author\n                  });\n                }\n              }}\n            ></Select>\n          </div>\n        </div>\n      </div>\n      {!searchItemListFetched && <div className=\"rolling\" style={{ marginTop: '3rem' }}></div>}\n      {searchItemListFetched && searchItemsList.length === 0 && (\n        <h2 id=\"search-list-no-items\" className=\"container\">\n          No Items Found\n        </h2>\n      )}\n      {searchItemListFetched && (\n        <div id=\"search-list-items\" className=\"container\">\n          {searchItemsList.map((searchItem, index) => (\n            <div className=\"search-item-block\" key={index}>\n              <div className=\"search-item-graphic\"></div>\n              <div className=\"search-item-content\">\n                <div>\n                  <h4 className=\"search-item-id\">Book ID: {searchItem.bookID}</h4>\n                  <h1 className=\"search-item-title\">{searchItem.title}</h1>\n                  <h4 className=\"search-item-category\">{searchItem.category}</h4>\n                  <ul className=\"search-item-authors\">\n                    {searchItem.authors.map((author, index) => (\n                      <li key={`search-item-author${index}`}>\n                        <h4>{author}</h4>\n                      </li>\n                    ))}\n                  </ul>\n                </div>\n                <div>\n                  <p\n                    className=\"search-item-see-details\"\n                    onClick={() => setViewingBookDetails(searchItem)}\n                  >\n                    see details\n                  </p>\n                  <div className=\"search-item-button-wrap\">\n                    {searchItem.quantity > 0 ? (\n                      <h4>\n                        In shelf:&nbsp;<b>{searchItem.quantity}</b>\n                      </h4>\n                    ) : (\n                      <h4 style={{ color: 'coral' }}>Not in shelf</h4>\n                    )}\n                    {borrowedCurr.length >= props.borrowLimit && (\n                      <button style={{ background: 'none', color: 'white' }}>.</button>\n                    )}\n                    {borrowedPrev.indexOf(searchItem.bookID) !== -1 && (\n                      <div className=\"borrowed-prev\">\n                        <FontAwesomeIcon icon={faClock} className=\"input-field-icon\" />\n                      </div>\n                    )}\n\n                    {(searchItem.actionState === 'awaiting' ||\n                      searchItem.actionState === 'borrowed' ||\n                      searchItem.actionState === 'subscribed') && (\n                      <h4 className=\"search-item-no-btn-text search-item-borrowed\">\n                        {searchItem.actionState}\n                      </h4>\n                    )}\n                    {searchItem.actionState === 'borrowable' && (\n                      <button\n                        className={`search-item-button-bor ${\n                          searchItem.bookID === borrowingID ? 'search-item-button-rolling' : ''\n                        }`}\n                        onClick={() => {\n                          if (borrowingID || subscribingID) return;\n                          setBorrowingID(searchItem.bookID);\n                          borrowHandler(searchItem.bookID);\n                        }}\n                      >\n                        {searchItem.bookID === borrowingID && <div className=\"rolling-3\"></div>}\n                        {searchItem.bookID !== borrowingID && (\n                          <React.Fragment>\n                            BORROW\n                            <FontAwesomeIcon icon={faArrowRight} className=\"input-field-icon\" />\n                          </React.Fragment>\n                        )}\n                      </button>\n                    )}\n                    {searchItem.actionState === 'notifiable' && (\n                      <button\n                        className={`search-item-button-req ${\n                          searchItem.bookID === subscribingID ? 'search-item-button-rolling' : ''\n                        }`}\n                        onClick={() => {\n                          if (borrowingID || subscribingID) return;\n                          setSubscribingID(searchItem.bookID);\n                          subscribeHandler(searchItem.bookID);\n                        }}\n                      >\n                        {searchItem.bookID === subscribingID && <div className=\"rolling-3\"></div>}\n                        {searchItem.bookID !== subscribingID && (\n                          <React.Fragment>\n                            NOTIFY\n                            <FontAwesomeIcon icon={faArrowRight} className=\"input-field-icon\" />\n                          </React.Fragment>\n                        )}\n                      </button>\n                    )}\n                  </div>\n                </div>\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n      {viewingBookDetails && (document.body.style.overflow = 'hidden') && (\n        <BookDetailsModal book={viewingBookDetails} bookID={null} setBook={setViewingBookDetails} />\n      )}\n    </React.Fragment>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\nimport { IUser } from '../../@types/user';\nimport { ICategory } from '../../@types/book';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../../utils/HttpUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport BrowseGreetContent from './BrowseGreetContent';\nimport BrowseListContent from './BrowseListContent';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../../context/auth-context';\nimport { IAwaiting } from '../../@types/awaiting';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function BrowseContent() {\n  const authContext = useContext(AuthContext);\n\n  // -- Data Fetch Operations --------------------------------------------------\n\n  const [categories, setCategories] = useState<string[]>([]);\n  // fetch list of categories on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query {\n          categories {\n            name\n          }\n        }`,\n        {},\n        'categories fetch failed'\n      );\n\n      if (!response) return;\n\n      if (response.errors) {\n        alert(response.errors.map((error: Error) => error.message));\n        return;\n      }\n\n      setCategories(response.data.categories.map((category: ICategory) => category.name));\n    })();\n  }, []);\n\n  const [notifications, setNotifications] = useState<string[]>([]);\n  const [borrowedCurr, setBorrowedCurr] = useState<string[]>([]);\n  const [borrowedPrev, setBorrowedPrev] = useState<string[]>([]);\n  const [awaiting, setAwaiting] = useState<string[]>([]);\n  // fetch subscribed, currently borrowed, and previously borrowed bookIDs on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query user($userID: String!) {\n          user(userID: $userID) {\n            notifications {\n              bookID\n            }\n            borrowedCurr\n            borrowedPrev\n          }\n        }`,\n        { userID: authContext.userID },\n        'borrowed books fetch failed'\n      );\n\n      if (!response) return;\n\n      if (response.errors) {\n        alert(response.errors.map((error: Error) => error.message));\n      } else {\n        const responseData: IUser = response.data.user;\n        setNotifications(responseData.notifications.map((notification) => notification.bookID));\n        setBorrowedCurr(responseData.borrowedCurr);\n        setBorrowedPrev(responseData.borrowedPrev);\n      }\n\n      const responseAwaiting = await fetchGraphQLResponse(\n        `query awaiting($userID: String!) {\n          awaiting(userID: $userID, type: \"\") {\n            book {\n              bookID\n            }\n          }\n        }`,\n        { userID: authContext.userID },\n        'awaiting transactions fetch failed'\n      );\n\n      if (!responseAwaiting) return;\n\n      if (responseAwaiting.errors) {\n        alert(responseAwaiting.errors.map((error: Error) => error.message));\n      } else {\n        const responseAwaitingData: IAwaiting[] = responseAwaiting.data.awaiting;\n        setAwaiting(responseAwaitingData.map((transaction) => transaction.book.bookID));\n      }\n    })();\n  }, []);\n\n  const [searchQuery, setSearchQuery] = useState<{\n    query: string;\n    category: string;\n    author: boolean;\n  } | null>(null);\n\n  // -- Render -----------------------------------------------------------------\n\n  return searchQuery ? (\n    <BrowseListContent\n      categories={categories}\n      searchQuery={searchQuery}\n      resetGlobalSearchQuery={() => setSearchQuery(null)}\n      userBooks={{ notifications, borrowedCurr, borrowedPrev, awaiting }}\n      borrowLimit={authContext.type === 'Student' ? 5 : 8}\n    />\n  ) : (\n    <BrowseGreetContent categories={categories} setSearchQuery={setSearchQuery} />\n  );\n}\n","/** stores the number of milliseconds in a day */\nconst dayMillis = 24 * 60 * 60 * 1000;\n\n/**\n * Returns a string representation of the UTC date in IST\n * @param isodate - ISODateString or UTC time in milliseconds\n */\nexport function dateString(isodate: string | number): string {\n    const offset = 5.5;\n    const date = new Date(isodate);\n    date.setTime(date.getTime() + offset * 60 * 60 * 1000);\n    return date.toUTCString().slice(0, -4);\n}\n\n/**\n * Returns date in milliseconds\n * @param isodate - ISODateString\n */\nexport function inMillis(isodate: string | number): number {\n    return new Date(isodate).getTime();\n}\n\n/**\n * Returns due date in milliseconds\n * @param borrowDate - ISODateString of borrow date\n * @param allowedDays - days until deadline\n */\nexport function dueDateMillis(borrowDate: string, allowedDays: number): number {\n    return inMillis(borrowDate) + allowedDays * dayMillis;\n}\n\n/**\n * Returns the number of full days remaining before deadline\n * @param borrowDate - ISODateString of borrow date\n * @param allowedDays - days until deadline\n */\nexport function remainingDays(borrowDate: string, allowedDays: number): number {\n    return Math.round((dueDateMillis(borrowDate, allowedDays) - Date.now()) / dayMillis);\n}\n\n/**\n * String describing days remaining or overdue\n * @param borrowDate - ISODateString of borrow date\n * @param allowedDays - days until deadline\n */\nexport function remainingDaysString(borrowDate: string, allowedDays: number): string {\n    const remaining = remainingDays(borrowDate, allowedDays);\n    return `${Math.abs(remaining)} days ${remaining < 0 ? 'overdue' : 'remaining'}`;\n}\n\n/**\n * Returns outstanding amount for a transaction\n * @param borrowDate - ISODateString of borrow date\n * @param returnDate - ISODateString of return date\n * @param allowedDays - days until deadline\n */\nexport function outstanding(\n    borrowDate: string,\n    returnDate: string | null,\n    allowedDays: number\n): number {\n    return !returnDate\n        ? Math.abs(remainingDays(borrowDate, allowedDays))\n        : Math.round((inMillis(returnDate) - dueDateMillis(borrowDate, allowedDays)) / dayMillis);\n}\n","import React, { useContext, useEffect, useState } from 'react';\n\nimport { ITransaction } from '../../@types/transaction';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../../utils/HttpUtils';\nimport { dateString, outstanding, remainingDays } from '../../utils/DateUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport BookDetailsModal from '../BookDetailsModal';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './HistoryContent.scss';\n\n// -- Components -----------------------------------------------------------------------------------\n\nexport default function HistoryContent() {\n  const authContext = useContext(AuthContext);\n\n  const [allowedDays, setAllowedDays] = useState(999);\n  // set user allowed borrowing days when user type changes\n  useEffect(() => {\n    if (authContext.type) {\n      setAllowedDays(authContext.type === 'Student' ? 30 : 180);\n    }\n  }, [authContext.type]);\n\n  // -- Data Fetch Operations --------------------------------------------------\n\n  const [userHistory, setUserHistory] = useState<(ITransaction & { remaining: number })[]>([]);\n  const [historyFetched, setHistoryFetched] = useState(false);\n  // fetch user transaction history on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query transactions($userID: String!) {\n          transactions(userID: $userID) {\n            transID\n            bookID\n            borrowDate\n            returnDate\n            book {\n              subscribers\n            }\n          }\n        }`,\n        { userID: authContext.userID },\n        'Transactions Fetch Failed'\n      );\n\n      if (!response) return;\n\n      setUserHistory(\n        response.data.transactions\n          .map((transaction: ITransaction) => ({\n            ...transaction,\n            remaining: remainingDays(\n              transaction.borrowDate,\n              authContext.type === 'Student' ? 30 : 180\n            )\n          }))\n          .sort(\n            (a: any, b: any) => new Date(b.borrowDate).valueOf() - new Date(a.borrowDate).valueOf()\n          )\n      );\n      setHistoryFetched(true);\n    })();\n  }, []);\n\n  // -- Date operations --------------------------------------------------------\n\n  const getTransactionStatusStyle = (\n    borrowDateISO: string,\n    returnDateISO: string | null\n  ): string => {\n    return !returnDateISO\n      ? remainingDays(borrowDateISO, allowedDays) >= 0\n        ? 'status-pending'\n        : 'status-pending-overdue'\n      : outstanding(borrowDateISO, returnDateISO, allowedDays) > 0\n      ? 'status-returned-overdue'\n      : 'status-returned';\n  };\n\n  // -- Transient states -------------------------------------------------------\n\n  const [viewingBookID, setViewingBookID] = useState<string | null>(null);\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"history-content\" className=\"container\">\n      <h2>Track transactions history</h2>\n      {!historyFetched && <div className=\"rolling\"></div>}\n      {historyFetched && userHistory.length > 0 && (\n        <div id=\"history-table\" className=\"transaction-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Book ID</th>\n                <th>Borrow Date</th>\n                <th>Return Date</th>\n                <th>Status</th>\n              </tr>\n            </thead>\n            <tbody>\n              {userHistory.map((transaction, index) => (\n                <tr key={`history-item-${index}`}>\n                  <td>{transaction.transID}</td>\n                  <td className=\"transaction-book-detail-btn\">\n                    {!transaction.returnDate && transaction.book.subscribers.length > 0 && (\n                      <div className=\"book-requested\"></div>\n                    )}\n                    <span onClick={() => setViewingBookID(transaction.bookID)}>\n                      {transaction.bookID}\n                    </span>\n                  </td>\n                  <td>{dateString(transaction.borrowDate)}</td>\n                  <td>{transaction.returnDate ? dateString(transaction.returnDate) : '-'}</td>\n                  <td\n                    className={getTransactionStatusStyle(\n                      transaction.borrowDate,\n                      transaction.returnDate\n                    )}\n                  >\n                    {!transaction.returnDate &&\n                      transaction.remaining >= 0 &&\n                      transaction.remaining <= 5 && (\n                        <div className=\"history-days-warning\">{transaction.remaining}</div>\n                      )}\n                    {transaction.returnDate ? 'returned' : 'pending'}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      {historyFetched && userHistory.length === 0 && (\n        <div className=\"no-transaction\">No Transaction History</div>\n      )}\n      {viewingBookID && (document.body.style.overflow = 'hidden') && (\n        <BookDetailsModal book={null} bookID={viewingBookID} setBook={setViewingBookID} />\n      )}\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { IUser } from '../../@types/user';\nimport { IAwaiting } from '../../@types/awaiting';\nimport { ITransaction } from '../../@types/transaction';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../../utils/HttpUtils';\nimport {\n  dateString,\n  dueDateMillis,\n  outstanding,\n  remainingDays,\n  remainingDaysString\n} from '../../utils/DateUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport BookDetailsModal from '../BookDetailsModal';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './DashboardContent.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function DashboardContent() {\n  const authContext = useContext(AuthContext);\n  const browserHistory = useHistory();\n\n  const [allowedDays, setAllowedDays] = useState(999);\n  // set user allowed borrowing days when user type changes\n  useEffect(() => {\n    if (authContext.type) {\n      setAllowedDays(authContext.type === 'Student' ? 30 : 180);\n    }\n  }, [authContext.type]);\n\n  // -- Data Fetch Operations --------------------------------------------------\n\n  const [userDetails, setUserDetails] = useState<\n    (Pick<IUser, 'userID' | 'email' | 'type' | 'notifications'> & { name: string }) | null\n  >(null);\n  // fetch user details on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query user($userID: String!) {\n        user(userID: $userID) {\n          userID\n          firstName\n          middleName\n          lastName\n          email\n          type\n          notifications {\n            bookID\n            quantity\n          }\n        }\n      }`,\n        { userID: authContext.userID },\n        'user details fetch failed'\n      );\n\n      if (!response) return;\n\n      const { firstName, middleName, lastName } = response.data.user;\n      const name = (\n        (firstName.trim() + ' ' + middleName.trim()).trim() +\n        ' ' +\n        lastName.trim()\n      ).trim();\n\n      setUserDetails({\n        userID: response.data.user.userID,\n        name,\n        email: response.data.user.email,\n        type: response.data.user.type,\n        notifications: response.data.user.notifications\n      });\n    })();\n  }, []);\n\n  const [awaiting, setAwaiting] = useState<IAwaiting[]>([]);\n  const [awaitingList, setAwaitingList] = useState<string[]>([]);\n  const [awaitingFetched, setAwaitingFetched] = useState(false);\n  const [waitingClear, setWaitingClear] = useState<string | null>(null);\n  // fetch awaiting transactions on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query awaiting($userID: String!) {\n          awaiting(userID: $userID, type: \"\") {\n            book {\n              bookID\n            }\n            type\n            createdAt\n          }\n        }`,\n        { userID: authContext.userID },\n        'awaiting transactions fetch failed'\n      );\n\n      if (!response) return;\n\n      setAwaiting(response.data.awaiting);\n      setAwaitingList(\n        response.data.awaiting.map((transaction: IAwaiting) => transaction.book.bookID)\n      );\n      setAwaitingFetched(true);\n    })();\n  }, []);\n\n  const [userPending, setUserPending] = useState<ITransaction[]>([]);\n  const [pendingFetched, setPendingFetched] = useState(false);\n  // fetch pending transactions on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query pending($userID: String!) {\n          pending(userID: $userID) {\n            transID\n            bookID\n            borrowDate\n            returnDate\n            book {\n              subscribers\n            }\n          }\n        }`,\n        { userID: authContext.userID },\n        'pending transactions fetch failed'\n      );\n\n      if (!response) return;\n\n      if (response.errors) {\n        console.error(response.errors[0].message);\n      } else {\n        setUserPending(response.data.pending);\n        setPendingFetched(true);\n      }\n    })();\n  }, []);\n\n  const [userOutstanding, setUserOutstanding] = useState<ITransaction[]>([]);\n  const [outstandingFetched, setOutstandingFetched] = useState(false);\n  // fetch outstanding transactions on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query outstanding($userID: String!) {\n          outstanding(userID: $userID) {\n            transID\n            bookID\n            borrowDate\n            returnDate\n            book {\n              subscribers\n            }\n          }\n        }`,\n        { userID: authContext.userID },\n        'outstanding transactions fetch failed'\n      );\n\n      if (!response) return;\n\n      if (response.errors) {\n        console.error(response.errors[0].message);\n      } else {\n        setUserOutstanding(response.data.outstanding);\n        setOutstandingFetched(true);\n      }\n    })();\n  }, []);\n\n  // -- Transient states -------------------------------------------------------\n\n  const [viewingBookID, setViewingBookID] = useState<string | null>(null);\n  const [returning, setReturning] = useState<string | null>(null);\n\n  // -- Callbacks --------------------------------------------------------------\n\n  const unsubscribeHandler = async (bookID: string) => {\n    const response = await fetchGraphQLResponse(\n      `mutation unsubscribe($userID: String!, $bookID: String!) {\n        unsubscribe(userID: $userID, bookID: $bookID) {\n          bookID\n        }\n      }`,\n      { userID: authContext.userID, bookID },\n      ''\n    );\n\n    if (!response) return;\n\n    if (response.errors) alert(response.errors.map((err: any) => err.message));\n  };\n\n  const clearAwaitingHandler = async (bookID: string): Promise<void> => {\n    const response = await fetchGraphQLResponse(\n      `mutation clearAwaiting($userID: String!, $bookID: String!) {\n          clearAwaiting(userID: $userID, bookID: $bookID) {\n            createdAt\n          }\n        }`,\n      { userID: authContext.userID, bookID },\n      'awaiting transaction clear failed'\n    );\n\n    if (!response) return;\n\n    if (response.errors) alert(response.errors.map((err: any) => err.message));\n\n    setWaitingClear(null);\n    browserHistory.push(`/dashboard`);\n  };\n\n  const returnHandler = async (bookID: string) => {\n    const response = await fetchGraphQLResponse(\n      `mutation awaitTransaction($userID: String!, $bookID: String!) {\n        awaitTransaction(userID: $userID, bookID: $bookID, type: \"return\") {\n          createdAt\n        }\n      }`,\n      { userID: authContext.userID, bookID },\n      'Return Failed'\n    );\n\n    if (!response) return;\n\n    if (response.errors) alert(response.errors.map((err: any) => err.message));\n\n    browserHistory.push('/browse');\n  };\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"dashboard-content\" className=\"container\">\n      {!userDetails && <div className=\"rolling-2\"></div>}\n      {userDetails && (\n        <div id=\"user-details\">\n          <div id=\"user-details-type\">{userDetails.type === 'Student' ? 'Student' : 'Faculty'}</div>\n          <div id=\"user-details-name\">{userDetails.name}</div>\n          <div id=\"user-details-email\">{userDetails.email}</div>\n        </div>\n      )}\n      {userDetails && userDetails.notifications.length > 0 && (\n        <div id=\"user-notifications\">\n          {userDetails.notifications.map((book) => (\n            <div\n              className=\"user-notification\"\n              id={`notification-${book.bookID}`}\n              key={`notification-${book.bookID}`}\n            >\n              {book.quantity > 0 ? (\n                <h4 className=\"user-notification-yes\">\n                  <span onClick={() => setViewingBookID(book.bookID)}>{book.bookID}</span>\n                  is back in shelf\n                </h4>\n              ) : (\n                <h4 className=\"user-notification-no\">\n                  <span onClick={() => setViewingBookID(book.bookID)}>{book.bookID}</span>\n                  is not in shelf\n                </h4>\n              )}\n              <div\n                className=\"user-notification-remove\"\n                onClick={() => {\n                  let thisElem = document.getElementById(`notification-${book.bookID}`);\n                  if (thisElem) thisElem.style.display = 'none';\n                  unsubscribeHandler(book.bookID);\n                }}\n              >\n                &times;\n              </div>\n            </div>\n          ))}\n        </div>\n      )}\n      <h2>Awaiting Confirmation</h2>\n      {!awaitingFetched && <div className=\"rolling\"></div>}\n      {awaitingFetched && awaiting.length > 0 && (\n        <div id=\"user-awaiting-table\" className=\"transaction-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>Book ID</th>\n                <th>Created At</th>\n                <th>Type</th>\n                <th>Cancel</th>\n              </tr>\n            </thead>\n            <tbody>\n              {awaiting.map((transaction: IAwaiting, index) => (\n                <tr key={`user-awaiting-item-${index}`}>\n                  <td className=\"transaction-book-detail-btn\">\n                    <span onClick={() => setViewingBookID(transaction.book.bookID)}>\n                      {transaction.book.bookID}\n                    </span>\n                  </td>\n                  <td>{dateString(transaction.createdAt)}</td>\n                  <td style={{ fontWeight: 600, color: 'carbon' }}>\n                    {transaction.type.toUpperCase()}\n                  </td>\n                  <td\n                    className={\n                      `awaiting-clear-btn` +\n                      (waitingClear && waitingClear === transaction.book.bookID ? ' waiting' : '')\n                    }\n                  >\n                    <div\n                      onClick={() => {\n                        if (waitingClear || returning) return;\n                        setWaitingClear(transaction.book.bookID);\n                        clearAwaitingHandler(transaction.book.bookID);\n                      }}\n                    >\n                      &times;\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      {awaitingFetched && awaiting.length === 0 && (\n        <div className=\"no-transaction\">No Awaiting Transactions</div>\n      )}\n      <h2>Pending Returns</h2>\n      {!pendingFetched && <div className=\"rolling\"></div>}\n      {pendingFetched && userPending.length > 0 && (\n        <div id=\"pending-table\" className=\"transaction-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Book ID</th>\n                <th>Borrow Date</th>\n                <th>Deadline</th>\n                <th>Return</th>\n              </tr>\n            </thead>\n            <tbody>\n              {userPending.map((transaction: any, index) => (\n                <tr key={`pending-item-${index}`}>\n                  <td\n                    className={\n                      awaitingList.indexOf(transaction.bookID) !== -1 ? 'awaiting-transID' : ''\n                    }\n                  >\n                    {transaction.transID}\n                  </td>\n                  <td className=\"transaction-book-detail-btn\">\n                    {transaction.book.subscribers.length > 0 && (\n                      <div className=\"book-requested\"></div>\n                    )}\n                    <span onClick={() => setViewingBookID(transaction.bookID)}>\n                      {transaction.bookID}\n                    </span>\n                  </td>\n                  <td>{dateString(transaction.borrowDate)}</td>\n                  <td>{dateString(dueDateMillis(transaction.borrowDate, allowedDays))}</td>\n                  <td>\n                    <button\n                      className={\n                        awaitingList.indexOf(transaction.bookID) === -1\n                          ? remainingDays(transaction.borrowDate, allowedDays) < 0\n                            ? 'return-btn-due'\n                            : 'return-btn-ok'\n                          : remainingDays(transaction.borrowDate, allowedDays) < 0\n                          ? 'return-btn-awaiting-due'\n                          : 'return-btn-awaiting-ok'\n                      }\n                      onClick={() => {\n                        if (\n                          returning ||\n                          waitingClear ||\n                          awaitingList.indexOf(transaction.bookID) !== -1\n                        )\n                          return;\n                        setReturning(transaction.transID);\n                        returnHandler(transaction.bookID);\n                      }}\n                    >\n                      {transaction.transID === returning && <div className=\"rolling-3\"></div>}\n                      {transaction.transID !== returning &&\n                        remainingDaysString(transaction.borrowDate, allowedDays)}\n                    </button>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      {pendingFetched && userPending.length === 0 && (\n        <div className=\"no-transaction\">No Pending Transactions</div>\n      )}\n      <h2>Outstanding Transactions</h2>\n      {!outstandingFetched && <div className=\"rolling\"></div>}\n      {outstandingFetched && userOutstanding.length > 0 && (\n        <div id=\"outstanding-table\" className=\"transaction-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>ID</th>\n                <th>Book ID</th>\n                <th>Borrow Date</th>\n                <th>Return Date</th>\n                <th>Fine</th>\n              </tr>\n            </thead>\n            <tbody>\n              {userOutstanding.map((transaction: any, index) => (\n                <tr key={`outstanding-item-${index}`}>\n                  <td>{transaction.transID}</td>\n                  <td className=\"transaction-book-detail-btn\">\n                    {transaction.book.subscribers.length > 0 && (\n                      <div className=\"book-requested\"></div>\n                    )}\n                    <span onClick={() => setViewingBookID(transaction.bookID)}>\n                      {transaction.bookID}\n                    </span>\n                  </td>\n                  <td>{dateString(transaction.borrowDate)}</td>\n                  <td>{!transaction.returnDate ? '-' : dateString(transaction.returnDate)}</td>\n                  <td>\n                    {outstanding(transaction.borrowDate, transaction.returnDate, allowedDays)}\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n          {/* <div id=\"pay-outstanding\">{totalOutstanding}</div> */}\n        </div>\n      )}\n      {outstandingFetched && userOutstanding.length === 0 && (\n        <div className=\"no-transaction\">No Outstanding Transactions</div>\n      )}\n      {viewingBookID && (document.body.style.overflow = 'hidden') && (\n        <BookDetailsModal book={null} bookID={viewingBookID} setBook={setViewingBookID} />\n      )}\n    </div>\n  );\n}\n","import React, { useContext, useEffect, useState } from 'react';\nimport { useHistory } from 'react-router-dom';\n\nimport { IAwaiting } from '../../@types/awaiting';\n\n// -- Utilities ------------------------------------------------------------------------------------\n\nimport { fetchGraphQLResponse } from '../../utils/HttpUtils';\nimport { dateString } from '../../utils/DateUtils';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport BookDetailsModal from '../BookDetailsModal';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './LibrarianContent.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function LibrarianContent(props: { pageName: string }) {\n  const browserHistory = useHistory();\n\n  // -- Data Fetch Operations --------------------------------------------------\n\n  const [awaiting, setAwaiting] = useState<IAwaiting[]>([]);\n  const [awaitingFetched, setAwaitingFetched] = useState(false);\n  const [waiting, setWaiting] = useState<{ userID: string; bookID: string; action: string } | null>(\n    null\n  );\n  // fetch awaiting transactions on mount\n  useEffect(() => {\n    (async () => {\n      const response = await fetchGraphQLResponse(\n        `query awaiting($userID: String!, $type: String!) {\n          awaiting(userID: $userID, type: $type) {\n            user {\n              userID\n            }\n            book {\n              bookID\n            }\n            type\n            createdAt\n          }\n        }`,\n        {\n          userID: '',\n          type: props.pageName === 'awaiting' ? '' : props.pageName\n        },\n        'awaiting transactions fetch failed'\n      );\n\n      if (!response) return;\n\n      setAwaiting(response.data.awaiting);\n      setAwaitingFetched(true);\n    })();\n  }, [waiting]);\n\n  // -- Callbacks --------------------------------------------------------------\n\n  const confirmAwaitingHandler = async (userID: string, bookID: string): Promise<void> => {\n    const response = await fetchGraphQLResponse(\n      `mutation confirmAwaiting($userID: String!, $bookID: String!) {\n          confirmAwaiting(userID: $userID, bookID: $bookID) {\n            createdAt\n          }\n        }`,\n      { userID, bookID },\n      'awaiting transaction confirmation failed'\n    );\n\n    if (!response) return;\n\n    setWaiting(null);\n    browserHistory.push(`/${props.pageName}`);\n  };\n\n  const clearAwaitingHandler = async (userID: string, bookID: string): Promise<void> => {\n    const response = await fetchGraphQLResponse(\n      `mutation clearAwaiting($userID: String!, $bookID: String!) {\n          clearAwaiting(userID: $userID, bookID: $bookID) {\n            createdAt\n          }\n        }`,\n      { userID, bookID },\n      'awaiting transaction clear failed'\n    );\n\n    if (!response) return;\n\n    setWaiting(null);\n    browserHistory.push(`/${props.pageName}`);\n  };\n\n  // -- Transient states -------------------------------------------------------\n\n  const [viewingBookID, setViewingBookID] = useState<string | null>(null);\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <div id=\"awaiting-content\" className=\"container\">\n      {props.pageName === 'awaiting' && <h2>All Awaiting Transactions</h2>}\n      {props.pageName === 'borrow' && <h2>Awaiting Borrow Transactions</h2>}\n      {props.pageName === 'return' && <h2>Awaiting Return Transactions</h2>}\n      {!awaitingFetched && <div className=\"rolling\"></div>}\n      {awaitingFetched && awaiting.length > 0 && (\n        <div id=\"awaiting-table\" className=\"transaction-table\">\n          <table>\n            <thead>\n              <tr>\n                <th>User ID</th>\n                <th>Book ID</th>\n                <th>Created</th>\n                <th colSpan={2}>Action</th>\n              </tr>\n            </thead>\n            <tbody>\n              {awaiting.map((transaction, index) => (\n                <tr key={`awaiting-item-${index}`}>\n                  <td>{transaction.user.userID}</td>\n                  <td className=\"transaction-book-detail-btn\">\n                    <span onClick={() => setViewingBookID(transaction.book.bookID)}>\n                      {transaction.book.bookID}\n                    </span>\n                  </td>\n                  <td>{dateString(transaction.createdAt)}</td>\n                  <td\n                    className={\n                      `awaiting-confirm-btn` +\n                      (waiting &&\n                      waiting.action === 'confirm' &&\n                      waiting.userID === transaction.user.userID &&\n                      waiting.bookID === transaction.book.bookID\n                        ? ' waiting'\n                        : '')\n                    }\n                  >\n                    <div\n                      onClick={() => {\n                        if (waiting) return;\n                        setWaiting({\n                          userID: transaction.user.userID,\n                          bookID: transaction.book.bookID,\n                          action: 'confirm'\n                        });\n                        confirmAwaitingHandler(transaction.user.userID, transaction.book.bookID);\n                      }}\n                    >\n                      {transaction.type}\n                    </div>\n                  </td>\n                  <td\n                    className={\n                      `awaiting-clear-btn` +\n                      (waiting &&\n                      waiting.action === 'clear' &&\n                      waiting.userID === transaction.user.userID &&\n                      waiting.bookID === transaction.book.bookID\n                        ? ' waiting'\n                        : '')\n                    }\n                  >\n                    <div\n                      onClick={() => {\n                        if (waiting) return;\n                        setWaiting({\n                          userID: transaction.user.userID,\n                          bookID: transaction.book.bookID,\n                          action: 'clear'\n                        });\n                        clearAwaitingHandler(transaction.user.userID, transaction.book.bookID);\n                      }}\n                    >\n                      &times;\n                    </div>\n                  </td>\n                </tr>\n              ))}\n            </tbody>\n          </table>\n        </div>\n      )}\n      {awaitingFetched && awaiting.length === 0 && (\n        <div className=\"no-transaction\">No Awaiting Transactions</div>\n      )}\n      {viewingBookID && (document.body.style.overflow = 'hidden') && (\n        <BookDetailsModal book={null} bookID={viewingBookID} setBook={setViewingBookID} />\n      )}\n    </div>\n  );\n}\n","import React, { useContext } from 'react';\nimport { useIdleTimer } from 'react-idle-timer';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport SideBar from '../components/SideBar';\nimport NavBar from '../components/NavBar';\nimport Footer from '../components/Footer';\nimport BrowseContent from '../components/page-components/BrowseContent';\nimport HistoryContent from '../components/page-components/HistoryContent';\nimport DashboardContent from '../components/page-components/DashboardContent';\nimport LibrarianContent from '../components/page-components/LibrarianContent';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext from '../context/auth-context';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './Template.scss';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function TemplatePage(props: { pageName: string }) {\n  const authContext = useContext(AuthContext);\n\n  useIdleTimer({\n    timeout: 1000 * 60 * 60 * authContext.tokenExpiration,\n    // timeout: 1000 * 10,\n    onIdle: () => {\n      if (\n        authContext.tokenExpiration &&\n        new Date().valueOf() - authContext.tokenExpiration.valueOf() >= 0\n      ) {\n        alert('Session expired, logged out');\n        authContext.logout();\n      }\n    },\n    debounce: 500\n  });\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <React.Fragment>\n      <div id=\"sidebar-wrap\">\n        <SideBar activeLinkName={props.pageName} isLibrarian={authContext.type === 'Librarian'} />\n      </div>\n      <div id=\"page-body\">\n        <div id=\"navbar-wrap\">\n          <NavBar />\n        </div>\n        <div id=\"template-content\">\n          {props.pageName === 'browse' && <BrowseContent />}\n          {props.pageName === 'history' && <HistoryContent />}\n          {props.pageName === 'dashboard' && <DashboardContent />}\n          {props.pageName === 'awaiting' && <LibrarianContent pageName={props.pageName} />}\n          {props.pageName === 'borrow' && <LibrarianContent pageName={props.pageName} />}\n          {props.pageName === 'return' && <LibrarianContent pageName={props.pageName} />}\n        </div>\n        <div id=\"footer-wrap\">\n          <Footer />\n        </div>\n      </div>\n    </React.Fragment>\n  );\n}\n","import React, { useState } from 'react';\nimport { BrowserRouter, Switch, Route, Redirect } from 'react-router-dom';\n\nimport { IAuthContext } from './@types/context';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport AuthPage from './pages/Auth';\nimport TemplatePage from './pages/Template';\n\n// -- Context --------------------------------------------------------------------------------------\n\nimport AuthContext, { authContextDefaults } from './context/auth-context';\n\n// -- Component ------------------------------------------------------------------------------------\n\nexport default function App() {\n  const [userAuthState, setUserAuthState] = useState<Omit<IAuthContext, 'login' | 'logout'>>({\n    ...authContextDefaults\n  });\n\n  // -- Render -----------------------------------------------------------------\n\n  return (\n    <BrowserRouter>\n      <React.Fragment>\n        <AuthContext.Provider\n          value={{\n            ...userAuthState,\n            login: (userID: string, type: string, token: string, tokenExpiration: number): void =>\n              setUserAuthState({ userID, type, token, tokenExpiration }),\n            logout: (): void => setUserAuthState({ ...authContextDefaults })\n          }}\n        >\n          <main>\n            <Switch>\n              {!userAuthState.token && (\n                <React.Fragment>\n                  <Redirect to=\"/auth\" exact />\n                  <Route path=\"/auth\" component={AuthPage}></Route>\n                </React.Fragment>\n              )}\n              {userAuthState.token &&\n                (userAuthState.type !== 'Librarian' ? (\n                  <React.Fragment>\n                    <Redirect from=\"/\" to=\"/browse\" exact />\n                    <Redirect from=\"/auth\" to=\"/browse\" exact />\n                    <Redirect from=\"/awaiting\" to=\"/browse\" exact />\n                    <Redirect from=\"/borrow\" to=\"/browse\" exact />\n                    <Redirect from=\"/return\" to=\"/browse\" exact />\n                    <Route path=\"/browse\" render={() => <TemplatePage pageName=\"browse\" />} />\n                    <Route path=\"/history\" render={() => <TemplatePage pageName=\"history\" />} />\n                    <Route path=\"/dashboard\" render={() => <TemplatePage pageName=\"dashboard\" />} />\n                  </React.Fragment>\n                ) : (\n                  <React.Fragment>\n                    <Redirect from=\"/\" to=\"/awaiting\" exact />\n                    <Redirect from=\"/auth\" to=\"/awaiting\" exact />\n                    <Redirect from=\"/browse\" to=\"/awaiting\" exact />\n                    <Redirect from=\"/history\" to=\"/awaiting\" exact />\n                    <Redirect from=\"/dashboard\" to=\"/awaiting\" exact />\n                    <Route path=\"/awaiting\" render={() => <TemplatePage pageName=\"awaiting\" />} />\n                    <Route path=\"/borrow\" render={() => <TemplatePage pageName=\"borrow\" />} />\n                    <Route path=\"/return\" render={() => <TemplatePage pageName=\"return\" />} />\n                  </React.Fragment>\n                ))}\n            </Switch>\n          </main>\n        </AuthContext.Provider>\n      </React.Fragment>\n    </BrowserRouter>\n  );\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\n\n// -- Subcomponents --------------------------------------------------------------------------------\n\nimport App from './App';\n\n// -- Stylesheet -----------------------------------------------------------------------------------\n\nimport './index.scss';\n\n// -- Renderer -------------------------------------------------------------------------------------\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}